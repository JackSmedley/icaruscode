add_subdirectory(Algorithms)
add_subdirectory(Utilities)
add_subdirectory(scripts)

art_make(
  EXCLUDE
    "DiscriminatePMTwaveformsByChannel_module.cc"
    "MajorityTriggerSimulation_module.cc"
    "SlidingWindowTrigger_module.cc"
    "SlidingWindowTriggerSimulation_module.cc"
    "TriggerEfficiencyPlots_module.cc"
    "MajorityTriggerEfficiencyPlots_module.cc"
    "SlidingWindowTriggerEfficiencyPlots_module.cc"
    "MakeTriggerSimulationTree_module.cc"
  LIB_LIBRARIES
    icaruscode_PMT_Trigger_Algorithms
    icaruscode_PMT_Trigger_Utilities
    sbnobj_ICARUS_PMT_Trigger_Data
    larcore_Geometry_Geometry_service
    lardataalg_MCDumpers
    larcorealg_Geometry
    lardataobj_RawData
    nusimdata::SimulationBase
    art_root_io::TFileService_service
    art_root_io::tfile_support
    art::Framework_Services_Registry
    art::Framework_Principal
    art::Framework_Core
    art::Persistency_Provenance
    art::Utilities
    canvas::canvas
    messagefacility::MF_MessageLogger
    fhiclcpp::fhiclcpp
    cetlib_except::cetlib_except
    ROOT::GenVector
    ROOT::Hist
    ROOT::Tree
    ROOT::Core
  MODULE_LIBRARIES
    icaruscode_PMT_Trigger_Algorithms
    sbnobj_ICARUS_PMT_Trigger_Data
    lardataalg_DetectorInfo
    lardataobj_RawData
    art::Framework_Services_Registry
    messagefacility::MF_MessageLogger
    fhiclcpp::fhiclcpp
    ROOT::Core
    ROOT::Physics
  TOOL_LIBRARIES
    icaruscode_PMT_Trigger_Algorithms
    sbnobj_ICARUS_PMT_Trigger_Data
    lardataalg_DetectorInfo
    lardataobj_RawData
    messagefacility::MF_MessageLogger
    fhiclcpp::fhiclcpp
  )

simple_plugin(DiscriminatePMTwaveformsByChannel module
  icaruscode_PMT_Trigger_Algorithms
  sbnobj_ICARUS_PMT_Trigger_Data
  sbnobj_ICARUS_PMT_Data
  sbnobj_Common_PMT_Data
  icaruscode_PMT_Trigger_Utilities
  icaruscode_PMT_Algorithms
  lardataobj_RawData
  art::Framework_Services_Registry
  art::Framework_Principal
  art::Framework_Core
  canvas::canvas
  messagefacility::MF_MessageLogger
  fhiclcpp::fhiclcpp
  cetlib_except::cetlib_except
  ROOT::Core
  )

simple_plugin(SlidingWindowTrigger module
  icaruscode_PMT_Trigger_Algorithms
  sbnobj_ICARUS_PMT_Trigger_Data
  icaruscode_PMT_Trigger_Utilities
  icaruscode_PMT_Algorithms
  larcore_Geometry_Geometry_service
  larcorealg_Geometry
  lardataobj_RawData
  art::Framework_Services_Registry
  art::Framework_Principal
  art::Framework_Core
  canvas::canvas
  messagefacility::MF_MessageLogger
  fhiclcpp::fhiclcpp
  cetlib_except::cetlib_except
  ROOT::Core
  )

simple_plugin(MajorityTriggerSimulation module
  icaruscode_PMT_Trigger_Algorithms
  sbnobj_ICARUS_PMT_Trigger_Data
  icaruscode_PMT_Trigger_Utilities
  larcore_Geometry_Geometry_service
  larcorealg_Geometry
  lardataobj_RawData
  art_root_io::TFileService_service
  art_root_io::tfile_support
  art::Framework_Services_Registry
  art::Framework_Principal
  art::Framework_Core
  canvas::canvas
  messagefacility::MF_MessageLogger
  fhiclcpp::fhiclcpp
  cetlib_except::cetlib_except
  ROOT::Hist
  ROOT::Core
  )

simple_plugin(SlidingWindowTriggerSimulation module
  icaruscode_PMT_Trigger_Algorithms
  sbnobj_ICARUS_PMT_Trigger_Data
  icaruscode_PMT_Trigger_Utilities
  larcore_Geometry_Geometry_service
  larcorealg_Geometry
  lardataobj_RawData
  art_root_io::TFileService_service
  art_root_io::tfile_support
  art::Framework_Services_Registry
  art::Framework_Principal
  art::Framework_Core
  canvas::canvas
  messagefacility::MF_MessageLogger
  fhiclcpp::fhiclcpp
  cetlib_except::cetlib_except
  ROOT::Hist
  ROOT::Core
  )

simple_plugin(TriggerEfficiencyPlots module
  icaruscode_PMT_Trigger_Utilities
  sbnobj_ICARUS_PMT_Trigger_Data
  larcore_Geometry_Geometry_service
  lardataalg_MCDumpers
  larcorealg_Geometry
  lardataobj_RawData
  nusimdata::SimulationBase
  art_root_io::TFileService_service
  art_root_io::tfile_support
  art::Framework_Services_Registry
  art::Framework_Principal
  art::Framework_Core
  canvas::canvas
  messagefacility::MF_MessageLogger
  fhiclcpp::fhiclcpp
  cetlib_except::cetlib_except
  ROOT::GenVector
  ROOT::Hist
  ROOT::Tree
  ROOT::Core
  )

simple_plugin(MakeTriggerSimulationTree module
  icaruscode_PMT_Trigger_Algorithms
  icaruscode_PMT_Trigger_Utilities
  sbnobj_ICARUS_PMT_Trigger_Data
  larcore_Geometry_Geometry_service
  lardataalg_MCDumpers
  larcorealg_Geometry
  nusimdata::SimulationBase
  art_root_io::TFileService_service
  art_root_io::tfile_support
  art::Framework_Services_Registry
  art::Framework_Principal
  art::Framework_Core
  canvas::canvas
  messagefacility::MF_MessageLogger
  fhiclcpp::fhiclcpp
  cetlib_except::cetlib_except
  ROOT::GenVector
  ROOT::Tree
  ROOT::Core
  )

# trigger efficiency plot modules with the same build configuration:
foreach(TriggerEfficiencyPlotsModule
  MajorityTriggerEfficiencyPlots
  SlidingWindowTriggerEfficiencyPlots
)

  simple_plugin(${TriggerEfficiencyPlotsModule} module
    icaruscode_PMT_Trigger_Algorithms
    icaruscode_PMT_Trigger
    icaruscode_PMT_Trigger_Utilities
    sbnobj_ICARUS_PMT_Trigger_Data
    larcore_Geometry_Geometry_service
    lardataalg_MCDumpers
    larcorealg_Geometry
    lardataobj_RawData
    nusimdata::SimulationBase
    art_root_io::TFileService_service
    art_root_io::tfile_support
    art::Framework_Services_Registry
    art::Framework_Principal
    art::Framework_Core
    art::Framework_Principal
    canvas::canvas
    messagefacility::MF_MessageLogger
    fhiclcpp::fhiclcpp
    cetlib_except::cetlib_except
    ROOT::GenVector
    ROOT::Hist
    ROOT::Tree
    ROOT::Core
    )

endforeach()

install_headers()
install_source()
install_fhicl()
